"use client";

import { ArrowRight } from "lucide-react";
import { useRef } from "react";
import { useRouter } from "next/navigation";

const USDTIcon = () => (
  <svg width="31" height="31" viewBox="0 0 31 31" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 15.5C0 6.93959 6.93959 0 15.5 0C24.0604 0 31 6.93959 31 15.5C31 24.0604 24.0604 31 15.5 31C6.93959 31 0 24.0604 0 15.5Z" fill="#50AF95"/>
    <path fillRule="evenodd" clipRule="evenodd" d="M17.4482 16.5975C17.3495 16.6049 16.8398 16.6353 15.7027 16.6353C14.7983 16.6353 14.1562 16.6082 13.9309 16.5975C10.4359 16.4437 7.82711 15.8353 7.82711 15.1069C7.82711 14.3784 10.4359 13.7709 13.9309 13.6146V15.9915C14.1595 16.008 14.814 16.0466 15.7183 16.0466C16.8036 16.0466 17.3471 16.0014 17.4449 15.9924V13.6163C20.9326 13.7717 23.5356 14.3801 23.5356 15.1069C23.5356 15.8337 20.9334 16.4421 17.4449 16.5967L17.4482 16.5975ZM17.4482 13.3705V11.2435H22.3155V8H9.06366V11.2435H13.9301V13.3696C9.97463 13.5513 7 14.3349 7 15.2738C7 16.2127 9.97463 16.9954 13.9301 17.1779V23.9938H17.4474V17.1755C21.3938 16.9938 24.3635 16.2111 24.3635 15.273C24.3635 14.3349 21.3963 13.5522 17.4474 13.3696L17.4482 13.3705Z" fill="white"/>
  </svg>
);

const USDCIcon = () => (
  <svg width="31" height="31" viewBox="0 0 31 31" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M16 30C23.7584 30 30 23.7584 30 16C30 8.24162 23.7584 2 16 2C8.24162 2 2 8.24162 2 16C2 23.7584 8.24162 30 16 30Z" fill="#2775CA"/>
    <path d="M19.8501 18.2166C19.8501 16.175 18.6251 15.475 16.1751 15.1833C14.4251 14.95 14.0751 14.4833 14.0751 13.6666C14.0751 12.8498 14.6584 12.325 15.8251 12.325C16.8751 12.325 17.4584 12.675 17.7501 13.55C17.8084 13.725 17.9834 13.8416 18.1584 13.8416H19.0917C19.3251 13.8416 19.5001 13.6666 19.5001 13.4333V13.375C19.2667 12.0916 18.2167 11.1 16.8751 10.9833V9.58334C16.8751 9.34996 16.7001 9.17496 16.4084 9.11658H15.5334C15.3001 9.11658 15.1251 9.29158 15.0667 9.58334V10.925C13.3167 11.1583 12.2084 12.325 12.2084 13.7833C12.2084 15.7083 13.3751 16.4666 15.8251 16.7583C17.4584 17.05 17.9834 17.4 17.9834 18.3333C17.9834 19.2667 17.1667 19.9083 16.0584 19.9083C14.5417 19.9083 14.0167 19.2666 13.8417 18.3916C13.7834 18.1583 13.6084 18.0416 13.4334 18.0416H12.4417C12.2084 18.0416 12.0334 18.2166 12.0334 18.45V18.5083C12.2667 19.9666 13.2001 21.0166 15.1251 21.3083V22.7083C15.1251 22.9416 15.3001 23.1166 15.5917 23.175H16.4667C16.7001 23.175 16.8751 23 16.9334 22.7083V21.3083C18.6834 21.0166 19.8501 19.7916 19.8501 18.2166Z" fill="white"/>
    <path d="M13.0249 24.3416C8.47492 22.7084 6.14154 17.6334 7.8333 13.1416C8.7083 10.6916 10.6333 8.82499 13.0249 7.94999C13.2583 7.83337 13.3749 7.65837 13.3749 7.36661V6.54999C13.3749 6.31661 13.2583 6.14161 13.0249 6.08337C12.9665 6.08337 12.8499 6.08337 12.7915 6.14161C7.24992 7.89161 4.21654 13.7834 5.96654 19.325C7.01654 22.5916 9.52492 25.1 12.7915 26.15C13.0249 26.2666 13.2583 26.15 13.3165 25.9166C13.3749 25.8584 13.3749 25.8 13.3749 25.6834V24.8666C13.3749 24.6916 13.1999 24.4584 13.0249 24.3416ZM19.2083 6.14161C18.9749 6.02499 18.7415 6.14161 18.6833 6.37499C18.6249 6.43337 18.6249 6.49161 18.6249 6.60837V7.42499C18.6249 7.65837 18.7999 7.89161 18.9749 8.00837C23.5249 9.64161 25.8583 14.7166 24.1665 19.2084C23.2915 21.6584 21.3665 23.525 18.9749 24.4C18.7415 24.5166 18.6249 24.6916 18.6249 24.9834V25.8C18.6249 26.0334 18.7415 26.2084 18.9749 26.2666C19.0333 26.2666 19.1499 26.2666 19.2083 26.2084C24.7499 24.4584 27.7833 18.5666 26.0333 13.025C24.9833 9.69999 22.4165 7.19161 19.2083 6.14161Z" fill="white"/>
  </svg>
);

const BNBIcon = () => (
  <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M5.45305 9.00005L5.45873 11.0824L7.22808 12.1235V13.3427L4.42324 11.6976V8.39113L5.45305 9.00005ZM5.45305 6.91772V8.13115L4.42261 7.5216V6.30816L5.45305 5.69861L6.48853 6.30816L5.45305 6.91772ZM7.96699 6.30816L8.99743 5.69861L10.0329 6.30816L8.99743 6.91772L7.96699 6.30816Z" fill="#F0B90B"/>
    <path d="M6.19775 10.6508V9.43166L7.22819 10.0412V11.2546L6.19775 10.6508ZM7.96711 12.5602L8.99754 13.1698L10.033 12.5602V13.7736L8.99754 14.3832L7.96711 13.7736V12.5602ZM11.5109 6.30816L12.5413 5.69861L13.5768 6.30816V7.5216L12.5413 8.13115V6.91772L11.5109 6.30816ZM12.5413 11.0824L12.547 9.00005L13.5774 8.3905V11.697L10.7726 13.342V12.1229L12.5413 11.0824Z" fill="#F0B90B"/>
    <path d="M11.8022 10.6508L10.7717 11.2546V10.0412L11.8022 9.43164V10.6508Z" fill="#F0B90B"/>
    <path d="M11.8024 7.34924L11.8081 8.56835L10.0337 9.60952V11.6969L9.00322 12.3008L7.97278 11.6969V9.60952L6.19838 8.56835V7.34924L7.23324 6.73969L8.99691 7.7859L10.7713 6.73969L11.8068 7.34924H11.8024ZM6.19775 5.26754L8.99754 3.61682L11.8024 5.26754L10.7719 5.8771L8.99754 4.83088L7.22819 5.8771L6.19775 5.26754Z" fill="#F0B90B"/>
  </svg>
);

const TronIcon = () => (
  <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 9C0 4.02944 4.02944 0 9 0C13.9706 0 18 4.02944 18 9C18 13.9706 13.9706 18 9 18C4.02944 18 0 13.9706 0 9Z" fill="#FF060A"/>
    <path d="M13.7424 6.91326C13.2615 6.45881 12.5963 5.76483 12.0545 5.27264L12.0225 5.24967C11.9691 5.20583 11.909 5.17145 11.8446 5.14795C10.5382 4.89858 4.4584 3.73537 4.33979 3.75014C4.30655 3.7549 4.27478 3.76724 4.24682 3.78623L4.21637 3.81084C4.17886 3.84982 4.15038 3.89692 4.13301 3.94865L4.125 3.96998V4.08647V4.10451C4.80944 6.05522 7.51192 12.4455 8.04409 13.945C8.07614 14.0467 8.13705 14.2403 8.25086 14.2501H8.27651C8.33742 14.2501 8.59709 13.899 8.59709 13.899C8.59709 13.899 13.2391 8.13717 13.7087 7.52358C13.7695 7.44799 13.8232 7.3667 13.869 7.28076C13.8807 7.21353 13.8752 7.14434 13.853 7.07994C13.8308 7.01553 13.7927 6.95811 13.7424 6.91326ZM9.78804 7.58428L11.7692 5.90264L12.9313 6.99858L9.78804 7.58428ZM9.01865 7.47436L5.60768 4.61311L11.1265 5.6549L9.01865 7.47436ZM9.3264 8.22412L12.8175 7.64826L8.8263 12.5701L9.3264 8.22412ZM5.14444 4.89858L8.73333 8.01576L8.21399 12.5734L5.14444 4.89858Z" fill="white"/>
  </svg>
);

const requests = [
  {
    token: "USDT",
    chain: "BNB Smart Chain",
    amount: "$300,000",
    purpose: "House rent",
    logo: USDTIcon,
    network: BNBIcon
  },
  {
    token: "USDC",
    chain: "BNB Smart Chain",
    amount: "$200,000",
    purpose: "Hospital bills",
    logo: USDCIcon,
    network: BNBIcon
  },
  {
    token: "USDT",
    chain: "Tron",
    amount: "$500,000",
    purpose: "Graduation",
    logo: USDTIcon,
    network: TronIcon
  },
  {
    token: "USDT",
    chain: "Tron",
    amount: "$150,000",
    purpose: "Car payment",
    logo: USDTIcon,
    network: TronIcon
  },
  {
    token: "USDC",
    chain: "BNB Smart Chain",
    amount: "$75,000",
    purpose: "School fees",
    logo: USDCIcon,
    network: BNBIcon
  },
];

export const FamilyRequests = () => {
  const scrollContainerRef = useRef<HTMLDivElement>(null);
  const router = useRouter();

  const handleArrowClick = () => {
    router.push("/family");
  };

  return (
    <section className="w-full max-w-full px-4 py-6">
      <div className="flex justify-between items-center mb-4">
        <h2 className="font-sf-pro text-[16px] font-medium leading-[19.09px] text-[#C6CCD2]">
          Family Requests
        </h2>
        <button 
          onClick={handleArrowClick}
          className="p-2 -mr-2 hover:bg-gray-800/50 rounded-lg transition-colors"
        >
          <ArrowRight className="w-[13.33px] h-[10px] text-[#545E69]" />
        </button>
      </div>

      <div 
        ref={scrollContainerRef}
        className="flex gap-3 overflow-x-auto pb-4 snap-x snap-mandatory scrollbar-hide -mx-4 px-4"
      >
        {requests.map((request, index) => (
          <div
            key={index}
            className="min-w-[260px] w-[80vw] max-w-[300px] flex-shrink-0 snap-start bg-[#1C1D20] rounded-lg p-4"
          >
            <div className="flex items-center space-x-3 mb-3">
              <div className="relative">
                <div className="w-8 h-8 rounded-full bg-gray-800/50 flex items-center justify-center">
                  <request.logo />
                </div>
                <div className="absolute -bottom-1 -right-1 w-4 h-4 rounded-full bg-[#1C1D20] flex items-center justify-center">
                  <request.network />
                </div>
              </div>
              <div className="min-w-0">
                <p className="font-sf-pro text-[14px] font-normal leading-[16.71px] text-[#C6CCD2]">
                  {request.token}
                </p>
                <p className="font-sf-pro text-[12px] font-normal leading-[14.32px] text-[#545E69] truncate">
                  {request.chain}
                </p>
              </div>
            </div>
            <p className="font-sf-pro text-[16px] font-medium leading-[19.09px] text-[#C6CCD2] mb-1">
              {request.amount}
            </p>
            <p className="font-sf-pro text-[12px] font-normal leading-[14.32px] text-[#545E69]">
              {request.purpose}
            </p>
          </div>
        ))}
      </div>
    </section>
  );
}